<html>
<div scroll="true" id="screen"></div>
<br><br>
<input id="in" placeholder="Busca">
<script>
	window.onload = function(){reload()}
	function nowreLoad(e){
		console.log(e)
		reload()
	}
	function write(html, calas) {
  		var newDiv = document.createElement("div");
  		newDiv.innerHTML = html;
 		var currentDiv = document.getElementById("screen");
  		currentDiv.appendChild(newDiv);
		newDiv.classList.add(calas);
	}
	function send(){
		var c = new URLSearchParams(window.location.search).get('c');
		
        	var v = document.getElementById("in").value;
         	var h = sessionStorage.ch.split(","); 
		h.push(v)
         	uptade(c, h, "63c2bd75dfc68e59d58269b6", "nowreLoad")
		
		document.getElementById("in").value = "";
    	}
     function presend(e){
      if(e.keyCode == 13 && document.getElementById("in").value != ""){
        send()
      }
     }
  window.addEventListener('keyup', presend);

	function soload(chato){
		var chats = chato;
		var c = new URLSearchParams(window.location.search).get('c');
    		sessionStorage.setItem("c", c)
    		sessionStorage.setItem("ch",chats[c])
		
    		var chat = chats[c];
		document.getElementById("screen").innerHTML = "";
    		for(m in chat){
			var user;
			if(chat[m].user == localStorage.usr){
				user = "mine";
			}
			else{
				user = "notmine";
			}
     			write(chat[m].text + "<br><br><br>", user)
    		}
	}
  function reload(){
    	get("63c2bd75dfc68e59d58269b6", "soload")
  }
</script>
  <script src="main.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.3.js"></script>
<style>
	@import url('https://fonts.googleapis.com/css2?family=Stick+No+Bills:wght@200;800&display=swap');
	#screen{
		overflow-y: scroll;
		height: 365px;
		max-height: 356px;
		font-family: 'Stick No Bills', sans-serif;
		font-size: 30px;
		width: 300px;
		color: #A26769;
	}
	body{
		background-color: ghostwhite;
		display: flex;
		align-items: center;
		flex-direction: column;
	}
	#in{
		all: unset;
		background-color: #D5B9B2;
		width: 300px;
		height: 50px;
		border-radius: 10px;
		font-size: 30px;
	}
	#in:focus{
		all: unset;
		background-color: #D5B9B2;
		width: 300px;
		height: 50px;
		border: 5px solid #A26769;
		border-radius: 10px;
		font-size: 30px;
		font-weight: bold;
		font-family: 'Stick No Bills', sans-serif;
		color: #A26769;
	}
	::placeholder{
		font-family: 'Stick No Bills', sans-serif;
		font-weight: bold;
		color: #A26769;
	}
	/* width */
::-webkit-scrollbar {
  width: 20px;
}

/* Track */
::-webkit-scrollbar-track {
  box-shadow: inset 0 0 5px grey; 
  border-radius: 10px;
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: #D5B9B2; 
  border-radius: 10px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #A26769; 
}
	.mine{
		background-color: #A26769;
		color: #D5B9B2;
		border-radius: 10px 10px 10px 0;
	}
	.notmine{
		background-color: #D5B9B2;
		color: #A26769;
		border-radius: 10px 10px 0 10px;
	}
</style>
</html>
